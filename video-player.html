<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>NipaPlay播放视图</title>
    <link rel="stylesheet" href="video-player.css">
    <style>
    </style>
</head>

<body>
    <div class="windowbutton">
        <div id="close-button" style="display: none;"></div>
        <div id="minimize-button" style="display: none;"></div>
    </div>
    <div id="top-button-container">
        <div id="top-button"></div>
        <div id="top-button-off" style="display: none;"></div>
    </div>
    <div id="player-container">
        <div id="black-background"></div>
        <video id="video-player" autoplay></video>
        <div id="black-mask"></div>
        <div id="danmaku-container" style="z-index:9;"></div>
        <canvas id="subtitle-container"></canvas>
        <div id="darg_menu"></div>
    </div>
    <div id="uihide">
        <div id="controls-container">
            <div id="left-controls">
                <button id="up-button" class="control-button"
                    style="background-image: url('icons/up.png'); display: block;"></button>
                <button id="play-button" class="control-button"
                    style="background-image: url('icons/play.png')"></button>
                <button id="pause-button" class="control-button"
                    style="background-image: url('icons/pause.png'); display: none;"></button>
                <button id="down-button" class="control-button"
                    style="background-image: url('icons/down.png'); display: block;"></button>
                <button id="audio-button-full" class="control-button"
                    style="background-image: url('icons/audio_full.png'); display: block;"></button>
                <button id="audio-button-50" class="control-button"
                    style="background-image: url('icons/audio_50.png'); display: none;"></button>
                <button id="audio-button-0" class="control-button"
                    style="background-image: url('icons/audio_0.png'); display: none;"></button>
                <button id="audio-button-null" class="control-button"
                    style="background-image: url('icons/audio_null.png'); display: none;"></button>
            </div>
            <div id="center-controls">
                <input id="seek-bar" type="range" min="0" max="100" value="0">
            </div>
            <div id="right-controls">
                <div id="time-display">00:00 / 00:00</div>
                <button id="fullscreen-button" style="background-image: url('icons/fullscreen.png')">全屏</button>
                <button id="windowed-button"
                    style="background-image: url('icons/windowscreen.png'); display: none;">窗口化</button>
            </div>
        </div>
        <div id="pop-play" popover="auto" class="pop">播放</div>
        <div id="pop-pause" popover="auto" class="pop">暂停</div>
        <div id="pop-up" popover="auto" class="pop">上一话</div>
        <div id="pop-down" popover="auto" class="pop">下一话</div>
        <div id="pop-audio" popover="auto" class="pop">音量</div>
        <div id="pop-bar" popover="auto" class="pop">进度条</div>
        <div id="pop-bar2" popover="auto" class="pop">进度条2</div>
        <div id="pop-alphabar" popover="auto" class="pop">透明度</div>
        <div id="pop-speedbar" popover="auto" class="pop">播放速度</div>
        <div id="pop-linebar" popover="auto" class="pop">描边粗细</div>
        <div id="pop-fontbar" popover="auto" class="pop">字体大小</div>
        <div id="pop-heightbar" popover="auto" class="pop">显示区域</div>
        <div id="pop-lightbar" popover="auto" class="pop">视频亮度</div>
        <div id="pop-full" popover="auto" class="pop">全屏</div>
        <div id="pop-win" popover="auto" class="pop">窗口化</div>
        <div id="pop-subtitle" popover="auto" class="pop">字幕</div>
        <div id="pop-comment" popover="auto" class="pop">弹幕</div>
        <div id="pop-settings" popover="auto" class="pop">设置</div>
        <div id="pop-top" popover="auto" class="pop">置顶屏幕</div>
        <div id="pop-top-off" popover="auto" class="pop">取消置顶</div>
        <div id="side-container">
            <div id="side-controls">
                <button id="subtitle-button" class="side-button"
                    style="background-image: url('icons/subtitle.png')"></button>
                <button id="comment-button" class="side-button"
                    style="background-image: url('icons/comment.png')"></button>
                <button id="settings-button" class="side-button"
                    style="background-image: url('icons/settings.png')"></button>
            </div>

            <div id="danmakucon">
                <div id="danmakuSwitch" class="danmaku-switch"></div>
                <div id="danmakuSwitch2" class="danmaku-switch"></div>
            </div>
        </div>
    </div>
    <!-- 弹幕透明度控制面板 -->
    <div id="danmaku-opacity-control" style="display: none;">
        <div id="alphamenu">
            <button id="close-opacity-control"></button>
            <div id="opacity-slider-container">
                <div id="alpha-image"></div>
                <div id="pop-alpha" popover="auto" class="pop">透明度</div>
                <input type="range" id="opacity-slider" min="0" max="100" value="100">
            </div>
            <div id="line-width-slider-container">
                <div id="line-image"></div>
                <div id="pop-line" popover="auto" class="pop">描边粗细</div>
                <input type="range" id="line-width-slider" min="1" max="6" value="3">
            </div>
            <div id="font-size-slider-container">
                <div id="font-image"></div>
                <div id="pop-font" popover="auto" class="pop">字体大小</div>
                <input type="range" id="font-size-slider" min="1" max="6" step="0.5" value="3">
            </div>
            <div id="view-height-slider-container">
                <div id="height-image"></div>
                <div id="pop-height" popover="auto" class="pop">显示区域</div>
                <input type="range" id="view-height-slider" min="1" max="4" step="1" value="4">
            </div>
            <!-- 新增按钮，控制是否屏蔽底部弹幕 -->
            <button id="toggle-top-danmaku" class="danmaku-button">屏蔽顶部弹幕</button>
            <button id="toggle-top-danmaku-on" class="danmaku-button" style="display: none;">显示顶部弹幕</button>
            <button id="toggle-bottom-danmaku" class="danmaku-button">屏蔽底部弹幕</button>
            <button id="toggle-bottom-danmaku-on" class="danmaku-button" style="display: none;">显示底部弹幕</button>
            <button id="toggle-rtl-danmaku" class="danmaku-button">屏蔽滚动弹幕</button>
            <button id="toggle-rtl-danmaku-on" class="danmaku-button" style="display: none;">显示滚动弹幕</button>
            <button id="reload-danmaku" class="danmaku-button">弹幕不正确？点此手动选择</button>
        </div>
    </div>
    <!-- 设置面板 -->
    <div id="options-control" style="display: none;">
        <div id="optionsmenu">
            <button id="close-options-control"></button>
            <div id="speed-slider-container">
                <div id="speed-image"></div>
                <div id="pop-speed" popover="auto" class="pop">播放速度</div>
                <input type="range" id="speed-slider" min="0.1" max="5" step="0.1" value="1">
            </div>
            <div id="video-light-container" class="
            option-class">
                <div id="light-image" class="option-image"></div>
                <div id="pop-light" popover="auto" class="pop">视频亮度</div>
                <input type="range" id="light-slider" min="0" max="100" step="1" value="100">
            </div>
        </div>
    </div>
    <!-- 音量调节控制面板 -->
    <div id="audio-opacity-control" style="display: none;">
        <input type="range" id="audio-slider" min="0" max="100" value="100">
    </div>
    <div id="volume-display" style="display: none;">音量: 50%</div>
    <div id="subtitle-alert" class="hide">字幕加载成功</div>
    <div class="danmu-container" id="danmu-shoot-container">
        <button class="danmu-button" onclick="sendDanmaku()">发送弹幕</button>
        <input type="text" id="danmuInput" class="danmu-input" spellcheck="false" placeholder="输入弹幕内容...">
    </div>
    <button id="video-title">未知视频</button>
    <button id="files-title"></button>
    <div id="pop-danmakuswitch1" popover="auto" class="pop">关闭弹幕</div>
    <div id="pop-danmakuswitch2" popover="auto" class="pop">打开弹幕</div>
    <div class="drag-area">
    </div>
    <script src="player_head.js"></script>
    <script src="libass/subtitles-octopus.js"></script>
    <script src="player.js"></script>
    <script id="danmaku-core" src="danmaku.canvas.js"></script>
    <script src="node_modules/video.js/dist/video.js"></script>
    <script src="node_modules/videojs-contrib-hls/dist/videojs-contrib-hls.js"></script>
    <script src="player_end.js"></script>
</body>

</html>